!function(a){var t=!1,n=".cmb2-qtranslate,[data-cmb2-qtranslate]",e=["input","textarea"],i=e.join(","),r=".cmb-td",o={qTranslateInitMetabox:function(t){var s=(t.closest("form").get(0),t.find(n));t.find(".qtranxs-translatable").each(function(){a(this).is(n)||a(this).nextAll(n).length||(qTranslateConfig.qtx.removeContentHook(this),a(this).removeClass("qtranxs-translatable"))}),s.each(function(t,n){var s=a(n);if(!s.is(i))return void alert("Translation for selected CMB2 field #"+s.attr("id")+" is not supported. Supported fields are: "+e.join(", "));qTranslateConfig.qtx.hasContentHook(n.id)||qTranslateConfig.qtx.refreshContentHook(n);var l=o.createSetOfLSB();s.closest(r).prepend(l)})},createSetOfLSB:function(){var a=qtranxj_ce("ul",{className:qTranslateConfig.lsb_style_wrap_class}),t=qTranslateConfig.language_config;qTranslateConfig.tabSwitches||(qTranslateConfig.tabSwitches={});for(var n in t){var e=t[n],i=qTranslateConfig.flag_location,r=qtranxj_ce("li",{lang:n,className:"qtranxs-lang-switch",onclick:qTranslateConfig.qtx.switchActiveLanguage},a);qtranxj_ce("img",{src:i+e.flag},r),qtranxj_ce("span",{innerHTML:e.name},r),qTranslateConfig.activeLanguage==n&&r.classList.add(qTranslateConfig.lsb_style_active_class),qTranslateConfig.tabSwitches[n]||(qTranslateConfig.tabSwitches[n]=[]),qTranslateConfig.tabSwitches[n].push(r)}return a},initNewRow:function(t,n){var e=qTranslateConfig.language_config,i=a(n);for(var r in e)e.hasOwnProperty(r)&&i.find('input[name="['+r+']"][type=hidden]').remove();i.find('input[name="[qtranslate-separator]"][type=hidden]').remove(),i.find(".qtranxs-lang-switch-wrap").remove(),o.qTranslateInitMetabox(i)}};a(window).load(function(){return t?void 0:(t=!0,"object"!=typeof qTranslateConfig||"object"!=typeof qTranslateConfig.qtx?void console.log("ERROR: qTranslate JS NOT LOADED!"):void CMB2.metabox().each(function(){var t=a(this);o.qTranslateInitMetabox(t);var n=t.find(".cmb-repeatable-group");n.length&&n.on("cmb2_add_row",o.initNewRow)}))})}(jQuery);